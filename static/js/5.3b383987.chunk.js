(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[5],{395:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.6acf9f91.png"},409:function(e,t,n){e.exports={wrapper:"Users_wrapper__3U46F"}},410:function(e,t,n){e.exports={paginator:"Paginator_paginator__8dAXu",page:"Paginator_page__2nPr0",selectedPage:"Paginator_selectedPage__31wl_"}},411:function(e,t,n){e.exports={photo:"User_photo__2_uGu",userProfile:"User_userProfile__Qp54x",page:"User_page__3z_-w",selectedPage:"User_selectedPage__3DL_6",unFollow:"User_unFollow__2UVEC",follow:"User_follow__1s7TM",button:"User_button__2xesj"}},421:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(71),a=n(26),s=n(408),o=Object(s.a)((function(e){return e.usersPage.users}),(function(e){return e})),l=Object(s.a)((function(e){return e.usersPage.pageSize}),(function(e){return e})),u=Object(s.a)((function(e){return e.usersPage.currentPage}),(function(e){return e})),j=Object(s.a)((function(e){return e.usersPage.totalUserCount}),(function(e){return e})),b=Object(s.a)((function(e){return e.usersPage.isFetching}),(function(e){return e})),d=Object(s.a)((function(e){return e.usersPage.followingInProgress}),(function(e){return e})),f=function(e){return e.usersPage.filter},O=n(7),g=n(409),p=n.n(g),h=n(192),m=n(160),x=n(393),_=n(410),w=n.n(_),v=n(4),P=n.n(v),F=n(1),U=function(e){for(var t=e.onPageChanged,n=e.currentPage,c=e.totalItemCount,i=e.pageSize,a=e.portionSize,s=void 0===a?10:a,o=Object(r.useState)(1),l=Object(x.a)(o,2),u=l[0],j=l[1],b=Math.ceil(c/i),d=Math.ceil(b/s),f=(u-1)*s+1,O=u*s,g=[],p=1;p<=b;p++)g.push(p);return Object(F.jsxs)("div",{className:w.a.paginator,children:[u>1&&Object(F.jsx)("button",{onClick:function(){j(u-1)},children:"PREV"}),g.filter((function(e){return e>=f&&e<=O})).map((function(e,r){return Object(F.jsx)("span",{onClick:function(){return t(e)},className:P()(Object(m.a)({},w.a.selectedPage,e===n),w.a.page),children:e},r)})),d>u&&Object(F.jsx)("button",{onClick:function(){j(u+1)},children:"NEXT"})]})},C=n(411),S=n.n(C),k=n(40),N=n(395),y=function(e){var t=e.user,n=e.followingInProgress,r=e.unFollow,c=e.follow;return Object(F.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{children:Object(F.jsx)(k.c,{to:"/profile/"+t.id,children:Object(F.jsx)("img",{className:S.a.photo,src:null!==t.photos.small?t.photos.small:N.a,alt:"avatar"})})}),Object(F.jsx)("div",{className:S.a.button,children:t.followed?Object(F.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:S.a.unFollow,onClick:function(){r(t.id)},children:"UnFollow"}):Object(F.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:S.a.follow,onClick:function(){c(t.id)},children:"Follow"})})]}),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{children:["nickName: ",t.name]}),Object(F.jsxs)("div",{children:["status: ",t.status||"\u26d4"]})]})]})},z=n(418),E=function(){return{}},I=c.a.memo((function(e){var t=e.onFilterChanged,n=Object(a.d)(f);return Object(F.jsx)("div",{children:Object(F.jsx)(z.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:E,onSubmit:function(e,n){var r=n.setSubmitting,c={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(F.jsxs)(z.b,{children:[Object(F.jsx)("span",{children:"Search your friends"}),Object(F.jsx)("div",{children:Object(F.jsx)(z.a,{type:"text",name:"term"})}),Object(F.jsx)("div",{children:Object(F.jsxs)(z.a,{name:"friend",as:"select",children:[Object(F.jsx)("option",{value:"null",children:"All"}),Object(F.jsx)("option",{value:"true",children:"Only followed"}),Object(F.jsx)("option",{value:"false",children:"Only unFollowed"})]})}),Object(F.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),A=n(22),M=n(415),V=function(){var e=Object(a.d)(j),t=Object(a.d)(u),n=Object(a.d)(l),c=Object(a.d)(o),i=Object(a.d)(d),s=Object(a.d)(f),b=Object(a.c)(),g=Object(A.g)();Object(r.useEffect)((function(){var e=M.parse(g.location.search.substr(1)),t=1,n={term:"",friend:null};switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(O.a)(Object(O.a)({},n),{},{term:e.term})),e.friend){case"null":n=Object(O.a)(Object(O.a)({},n),{},{friend:null});break;case"true":n=Object(O.a)(Object(O.a)({},n),{},{friend:!0});break;case"false":n=Object(O.a)(Object(O.a)({},n),{},{friend:!1})}b(Object(h.a)(t,n))}),[b,g]),Object(r.useEffect)((function(){var e={};s.term&&(e.term=s.term),s.friend&&(e.friend=String(s.friend)),1!==t&&(e.page=String(t)),g.push({pathname:"/users",search:M.stringify(e)})}),[s,t,g]);var m=function(e){b(h.b.followUser(e))},x=function(e){b(h.b.unFollowUser(e))};return Object(F.jsxs)("div",{className:p.a.wrapper,children:[Object(F.jsx)("h2",{style:{textAlign:"center"},children:"Users"}),Object(F.jsx)(I,{onFilterChanged:function(e){b(Object(h.a)(1,e))}}),Object(F.jsx)(U,{portionSize:15,totalItemCount:e,pageSize:n,currentPage:t,onPageChanged:function(e){b(h.b.setCurrentPage(e)),b(Object(h.a)(e,s))}}),c.map((function(e,t){return Object(F.jsx)(y,{followingInProgress:i,unFollow:x,follow:m,user:e},t)}))]})};t.default=function(){var e=Object(a.d)(b);return Object(F.jsxs)(F.Fragment,{children:[e&&Object(F.jsx)(i.a,{}),Object(F.jsx)(V,{})]})}}}]);
//# sourceMappingURL=5.3b383987.chunk.js.map