(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[3],{293:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var r=s(3),n=s(70),i=s(54),o=s(55),a=s(57),c=s(56),l=s(0),u=s.n(l),j=s(11),p=s(17),b=s(1),f=function(e){return{isAuth:e.auth.isAuth}};function d(e){var t=function(t){Object(a.a)(l,t);var s=Object(c.a)(l);function l(){return Object(i.a)(this,l),s.apply(this,arguments)}return Object(o.a)(l,[{key:"render",value:function(){var t=this.props,s=t.isAuth,i=Object(n.a)(t,["isAuth"]);return s?Object(b.jsx)(e,Object(r.a)({},i)):Object(b.jsx)(j.a,{to:"/login"})}}]),l}(u.a.Component);return Object(p.b)(f)(t)}},294:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(95);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(s.push(o.value),!t||s.length!==t);r=!0);}catch(c){n=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},295:function(e,t,s){e.exports={profileInfo:"ProfileInfo_profileInfo__QX6hI",description:"ProfileInfo_description__7BwXD",titleText:"ProfileInfo_titleText__272N1",contactsIcons:"ProfileInfo_contactsIcons__2wTtr"}},296:function(e,t,s){"use strict";t.a=s.p+"static/media/avatar.6acf9f91.png"},297:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2jUb1",posts:"MyPosts_posts__2aDkj",myPostTextarea:"MyPosts_myPostTextarea__2j9QW",error:"MyPosts_error__3N99d",errorText:"MyPosts_errorText__KcuBn"}},298:function(e,t,s){e.exports={item:"Post_item__2xhvo"}},299:function(e,t,s){e.exports={AppContent:"Profile_AppContent__1VRAT"}},300:function(e,t,s){e.exports={wrapperStatus:"ProfileStatus_wrapperStatus__8Mzl6",titleText:"ProfileStatus_titleText__3568w"}},301:function(e,t,s){e.exports={wrapper:"ProfileStatus_wrapper__2t7io"}},310:function(e,t,s){"use strict";s.r(t);var r=s(3),n=s(54),i=s(55),o=s(57),a=s(56),c=s(0),l=s.n(c),u=s(94),j=s(297),p=s.n(j),b=s(298),f=s.n(b),d=s(1),h=function(e){return Object(d.jsxs)("div",{className:f.a.item,children:[Object(d.jsx)("img",{src:"https://mpng.subpng.com/20180523/tha/kisspng-businessperson-computer-icons-avatar-clip-art-lattice-5b0508dc6a3a10.0013931115270566044351.jpg",alt:"avatar"}),Object(d.jsx)("div",{children:e.message}),Object(d.jsx)("div",{children:Object(d.jsxs)("span",{children:["\u2661 - ",e.likesCount]})})]})},O=s(88),x=s(127),v=s(85),m=s(39),P=l.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(d.jsx)(h,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(d.jsxs)("div",{className:p.a.myPosts,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{onSubmit:function(t){e.addPost(t.newPostText)}})}),Object(d.jsx)("div",{className:p.a.posts,children:t})]})})),y=Object(v.a)("10"),g=Object(x.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(d.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{component:m.b,name:"newPostText",placeholder:"Enter your post",validate:[v.b,y]})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Add post"})})]})})),_=s(17),S=Object(_.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(P),k=s(299),w=s.n(k),N=s(294),U=s(295),A=s.n(U),T=s(34),C=s(300),I=s.n(C),M=function(e){var t=e.profileStatus,s=e.updateStatus,r=e.isOwner,n=Object(c.useState)(!1),i=Object(N.a)(n,2),o=i[0],a=i[1],l=Object(c.useState)(t),u=Object(N.a)(l,2),j=u[0],p=u[1];Object(c.useEffect)((function(){p(t)}),[t]);return Object(d.jsx)("div",{className:I.a.wrapperStatus,children:o?Object(d.jsx)("div",{children:Object(d.jsx)("input",{value:j,type:"text",autoFocus:!0,onBlur:function(){s(j),a(!1)},placeholder:"print your status",onChange:function(e){p(e.currentTarget.value)}})}):Object(d.jsx)("div",{children:Object(d.jsxs)("span",{onDoubleClick:function(){r&&a(!0)},children:[Object(d.jsx)("b",{children:"Status: "})," ",j||"the user didn't write a status..."]})})})},D=s(301),F=s.n(D),J=function(e){var t=e.contactTitle,s=e.contactValue;return Object(d.jsx)("div",{className:F.a.wrapper,children:Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{children:t}),":",Object(d.jsx)("a",{href:s,rel:"noreferrer",target:"_blank",title:"contact ref",children:s})]})})},E=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"Full Name: "}),e.profileUser.fullName]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"About Me: "}),e.profileUser.aboutMe||"..."]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"Looking For A Job: "}),e.profileUser.lookingForAJob?"yes":"no"]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"My professional skills: "}),e.profileUser.lookingForAJobDescription||"..."]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts:"}),Object.keys(e.profileUser.contacts).map((function(t){return Object(d.jsx)(J,{contactTitle:t,contactValue:e.profileUser.contacts[t]},t)}))]})]})},V=Object(x.a)({form:"edit_profile"})((function(e){var t=e.profileUser,s=e.setEditProfile,r=e.error,n=e.savePhoto,i=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:i,children:[Object(d.jsxs)("label",{className:A.a.changeAvatar,children:[Object(d.jsx)("b",{children:"Change avatar:"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"file",placeholder:"Change avatar",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&n(e.target.files[0])}})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"About Me: "}),Object(m.c)("aboutMe","About Me",m.a,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"Full Name: "}),Object(m.c)("fullName","Full name",m.a,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"My professional skills: "}),Object(m.c)("lookingForAJobDescription","My professional skills",m.b,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:A.a.titleText,children:"Looking For A Job: "}),Object(m.c)("lookingForAJob","",m.a,[],{type:"checkbox"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:[e," : ",Object(m.c)("contacts."+e,e,m.a,[])]})},e)}))]}),Object(d.jsx)("button",{style:{backgroundColor:"green"},type:"submit",children:"Save"}),Object(d.jsx)("button",{style:{backgroundColor:"red"},type:"button",onClick:function(){return s(!1)},children:" Cancel"}),r&&Object(d.jsx)("span",{style:{color:"red"},children:r})]})})),z=s(296),B=function(e){var t=Object(c.useState)(!1),s=Object(N.a)(t,2),r=s[0],n=s[1];if(!e.profileUser)return Object(d.jsx)(T.a,{});return Object(d.jsx)("div",{className:A.a.profileInfo,children:Object(d.jsxs)("div",{className:A.a.description,children:[Object(d.jsx)("img",{alt:"avatar",src:e.profileUser.photos.large||z.a}),Object(d.jsxs)("div",{children:[Object(d.jsx)(M,{isOwner:e.isOwner,updateStatus:e.updateStatus,profileStatus:e.profileStatus}),e.isOwner&&!r&&Object(d.jsx)("button",{onClick:function(){e.isOwner&&n(!0)},children:"Edit profile"}),r?Object(d.jsx)(V,{onSubmit:function(t){e.saveProfile(t),n(!1)},initialValues:e.profileUser,savePhoto:e.savePhoto,setEditProfile:n,profileUser:e.profileUser}):Object(d.jsx)(E,{profileUser:e.profileUser})]})]})})},L=function(e){return Object(d.jsxs)("div",{className:w.a.AppContent,children:[Object(d.jsx)(B,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,updateStatus:e.updateStatus,profileStatus:e.profileStatus,profileUser:e.profileUser}),Object(d.jsx)(S,{})]})},Q=s(11),X=s(293),K=s(10),R=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userID);e||(e=Number(this.props.authorizedUserID))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(d.jsx)(L,Object(r.a)(Object(r.a)({},this.props),{},{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userID,profileUser:this.props.profileUser,profileStatus:this.props.profileStatus,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);t.default=Object(K.d)(Object(_.b)((function(e){return{profileUser:e.profilePage.profileUser,profileStatus:e.profilePage.profileStatus,authorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:u.c,getStatus:u.b,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),Q.g,X.a)(R)}}]);
//# sourceMappingURL=3.3401c3cd.chunk.js.map