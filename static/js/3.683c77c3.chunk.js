(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[3],{393:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var r=s(155);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(s.push(o.value),!e||s.length!==e);r=!0);}catch(c){n=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return s}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},394:function(t,e,s){t.exports={profileInfo:"ProfileInfo_profileInfo__QX6hI",description:"ProfileInfo_description__7BwXD",titleText:"ProfileInfo_titleText__272N1",contactsIcons:"ProfileInfo_contactsIcons__2wTtr"}},395:function(t,e,s){"use strict";e.a=s.p+"static/media/avatar.6acf9f91.png"},396:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var r=s(7),n=s(130),i=(s(0),s(22)),o=s(26),a=s(1),c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(o.b)(c)((function(e){var s=e.isAuth,o=Object(n.a)(e,["isAuth"]);return s?Object(a.jsx)(t,Object(r.a)({},o)):Object(a.jsx)(i.a,{to:"/login"})}))}},400:function(t,e,s){t.exports={myPosts:"MyPosts_myPosts__2jUb1",posts:"MyPosts_posts__2aDkj",myPostTextarea:"MyPosts_myPostTextarea__2j9QW",error:"MyPosts_error__3N99d",errorText:"MyPosts_errorText__KcuBn"}},401:function(t,e,s){t.exports={item:"Post_item__2xhvo"}},402:function(t,e,s){t.exports={AppContent:"Profile_AppContent__1VRAT"}},403:function(t,e,s){t.exports={wrapperStatus:"ProfileStatus_wrapperStatus__8Mzl6",titleText:"ProfileStatus_titleText__3568w"}},404:function(t,e,s){t.exports={wrapper:"ProfileStatus_wrapper__2t7io"}},421:function(t,e,s){"use strict";s.r(e);var r=s(7),n=s(157),i=s(158),o=s(194),a=s(191),c=s(0),l=s.n(c),u=s(156),j=s(400),p=s.n(j),b=s(401),d=s.n(b),f=s(1),h=function(t){return Object(f.jsxs)("div",{className:d.a.item,children:[Object(f.jsx)("img",{src:"https://mpng.subpng.com/20180523/tha/kisspng-businessperson-computer-icons-avatar-clip-art-lattice-5b0508dc6a3a10.0013931115270566044351.jpg",alt:"avatar"}),Object(f.jsx)("div",{children:t.message}),Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["\u2661 - ",t.likesCount]})})]})},O=s(146),x=s(190),v=s(143),m=s(52),P=l.a.memo((function(t){var e=t.profilePage.posts.map((function(t){return Object(f.jsx)(h,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{className:p.a.myPosts,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)("div",{children:Object(f.jsx)(_,{onSubmit:function(e){t.addPost(e.newPostText)}})}),Object(f.jsx)("div",{className:p.a.posts,children:e})]})})),y=Object(v.a)("50"),_=Object(x.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{component:m.b,name:"newPostText",placeholder:"Enter your post",validate:[v.b,y]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add post"})})]})})),g=s(26),S=Object(g.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(u.c.addPost(e))}}}))(P),k=s(402),w=s.n(k),N=s(393),A=s(394),T=s.n(A),C=s(71),I=s(403),U=s.n(I),M=function(t){var e=t.profileStatus,s=t.updateStatus,r=t.isOwner,n=Object(c.useState)(!1),i=Object(N.a)(n,2),o=i[0],a=i[1],l=Object(c.useState)(e),u=Object(N.a)(l,2),j=u[0],p=u[1];Object(c.useEffect)((function(){p(e)}),[e]);return Object(f.jsx)("div",{className:U.a.wrapperStatus,children:o?Object(f.jsx)("div",{children:Object(f.jsx)("input",{value:j,type:"text",autoFocus:!0,onBlur:function(){s(j),a(!1)},placeholder:"print your status",onChange:function(t){p(t.currentTarget.value)}})}):Object(f.jsx)("div",{children:Object(f.jsxs)("span",{onDoubleClick:function(){r&&a(!0)},children:[Object(f.jsx)("b",{children:"Status: "})," ",j||"the user didn't write a status..."]})})})},D=s(404),F=s.n(D),J=function(t){var e=t.contactTitle,s=t.contactValue;return Object(f.jsx)("div",{className:F.a.wrapper,children:Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{children:e}),":",Object(f.jsx)("a",{href:s,rel:"noreferrer",target:"_blank",title:"contact ref",children:s})]})})},E=function(t){var e=t.profileUser;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"Full Name: "}),e.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"About Me: "}),e.aboutMe||"..."]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"Looking For A Job: "}),e.lookingForAJob?"yes":"no"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"My professional skills: "}),e.lookingForAJobDescription||"..."]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(f.jsx)(J,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},V=Object(x.a)({form:"edit_profile"})((function(t){var e=t.profileUser,s=t.setEditProfile,r=t.error,n=t.savePhoto,i=t.handleSubmit;return Object(f.jsxs)("form",{onSubmit:i,children:[Object(f.jsxs)("label",{className:T.a.changeAvatar,children:[Object(f.jsx)("b",{children:"Change avatar:"}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"file",placeholder:"Change avatar",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&n(t.target.files[0])}})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"About Me: "}),Object(m.c)("aboutMe","About Me",m.a,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"Full Name: "}),Object(m.c)("fullName","Full name",m.a,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"My professional skills: "}),Object(m.c)("lookingForAJobDescription","My professional skills",m.b,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:T.a.titleText,children:"Looking For A Job: "}),Object(m.c)("lookingForAJob","",m.a,[],{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("b",{children:[t," : ",Object(m.c)("contacts."+t,t,m.a,[])]})},t)}))]}),Object(f.jsx)("button",{style:{backgroundColor:"green"},type:"submit",children:"Save"}),Object(f.jsx)("button",{style:{backgroundColor:"red"},type:"button",onClick:function(){return s(!1)},children:" Cancel"}),r&&Object(f.jsx)("span",{style:{color:"red"},children:r})]})})),z=s(395),B=function(t){var e=t.profileUser,s=t.profileStatus,r=t.isOwner,n=t.updateStatus,i=t.savePhoto,o=t.saveProfile,a=Object(c.useState)(!1),l=Object(N.a)(a,2),u=l[0],j=l[1];if(!e)return Object(f.jsx)(C.a,{});return Object(f.jsx)("div",{className:T.a.profileInfo,children:Object(f.jsxs)("div",{className:T.a.description,children:[Object(f.jsx)("img",{alt:"avatar",src:e.photos.large||z.a}),Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{isOwner:r,updateStatus:n,profileStatus:s}),r&&!u&&Object(f.jsx)("button",{onClick:function(){r&&j(!0)},children:"Edit profile"}),u?Object(f.jsx)(V,{onSubmit:function(t){o(t),j(!1)},initialValues:e,savePhoto:i,setEditProfile:j,profileUser:e}):Object(f.jsx)(E,{profileUser:e})]})]})})},L=function(t){return Object(f.jsxs)("div",{className:w.a.AppContent,children:[Object(f.jsx)(B,{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:t.isOwner,updateStatus:t.updateStatus,profileStatus:t.profileStatus,profileUser:t.profileUser}),Object(f.jsx)(S,{})]})},Q=s(22),W=s(396),X=s(21),K=function(t){Object(o.a)(s,t);var e=Object(a.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userID);t||(t=Number(this.props.authorizedUserID))||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userID!==t.match.params.userID&&this.refreshProfile()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(f.jsx)(L,Object(r.a)(Object(r.a)({},this.props),{},{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userID,profileUser:this.props.profileUser,profileStatus:this.props.profileStatus,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);e.default=Object(X.d)(Object(g.b)((function(t){return{profileUser:t.profilePage.profileUser,profileStatus:t.profilePage.profileStatus,authorizedUserID:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:u.b,getStatus:u.a,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),Q.h,W.a)(K)}}]);
//# sourceMappingURL=3.683c77c3.chunk.js.map